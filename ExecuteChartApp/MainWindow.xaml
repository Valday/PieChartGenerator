<Controls:MetroWindow
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:c="clr-namespace:ScottLogic.Controls.PieChart"
        xmlns:b="clr-namespace:ScottLogic.Shapes"
           
        xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:Properties="clr-namespace:PieChartResources.Properties" x:Class="PieChartResources.MainWindow"
        Title="Create Pie Chart" Height="516" Width="790">
    
    <Window.Resources>
        <x:ArrayExtension Type="{x:Type Brush}" x:Key="brushes">
            <SolidColorBrush Color="#9F15C3"/>
            <SolidColorBrush Color="#FF8E01"/>
            <SolidColorBrush Color="#339933"/>
            <SolidColorBrush Color="#00AAFF"/>
            <SolidColorBrush Color="#818183"/>
            <SolidColorBrush Color="#000033"/>
        </x:ArrayExtension>
    </Window.Resources>


    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands>
            <Button Content="settings" />
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="23*"/>
            <ColumnDefinition Width="239*"/>
            <ColumnDefinition Width="520*"/>
        </Grid.ColumnDefinitions>
        <Grid HorizontalAlignment="Left" Height="147" Margin="0,25,0,0" VerticalAlignment="Top" Width="259" Grid.ColumnSpan="2" Grid.Column="1">
            <Border Margin="23,33,38,57">
                <Grid>
                    <Label Content="Parameter" HorizontalAlignment="Left" VerticalAlignment="Top" RenderTransformOrigin="-0.526,0.423" Width="74"/>
                    <TextBox HorizontalAlignment="Left" Height="23" Margin="94,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="103" Name="Parameter" TextChanged="TextBox_TextChanged"/>
                    <Label Content="Value" HorizontalAlignment="Left" Margin="0,31,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.526,0.423" Width="74"/>
                    <TextBox HorizontalAlignment="Left" Height="23" Margin="94,31,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="103" Name="Value" TextChanged="TextBox_TextChanged_1" />
                </Grid>
            </Border>
            <Button Content="Add" HorizontalAlignment="Left" Margin="145,112,0,0" VerticalAlignment="Top" Width="75" Click="Button_Click"/>
            <Label Content="" HorizontalAlignment="Left" Height="22" Margin="10,90,0,35" VerticalAlignment="Center" Width="163" Foreground="#FF9C2323" Name="ErrorMessage" Background="{x:Null}" FontStyle="Italic" ScrollViewer.HorizontalScrollBarVisibility="Auto" TextOptions.TextFormattingMode="Display"/>
        </Grid>
        <Border HorizontalAlignment="Left" Margin="0,228,0,0" VerticalAlignment="Top" Height="230" Width="240" Grid.ColumnSpan="2" Grid.Column="1" >
            <DataGrid AutoGenerateColumns="False" Name="Table" CanUserAddRows="True" ItemsSource="{Binding}" TextElement.Foreground="Black" BorderThickness="2" IsSynchronizedWithCurrentItem="True" Background="White" Foreground="Black" Margin="0,-45,0,0" Height="230" VerticalAlignment="Top" >
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Parameter" IsReadOnly="True" Binding="{Binding Path=Parameter}" Width="118" Foreground="Black">
                        <!--<DataGridTextColumn.CellStyle>
                            <Style TargetType="DataGridCell">
                                <Setter Property="ToolTip" Value="{Binding Parameter}" />
                            </Style>
                        </DataGridTextColumn.CellStyle>-->
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="Value" IsReadOnly="True" Binding="{Binding Path=Value}" Width="117" Foreground="Black">
                        <!--<DataGridTextColumn.CellStyle>
                            <Style TargetType="DataGridCell">
                                <Setter Property="ToolTip" Value="{Binding Value}" />
                            </Style>
                        </DataGridTextColumn.CellStyle>-->
                    </DataGridTextColumn>

                </DataGrid.Columns>
            </DataGrid>

        </Border>
        <Button Content="Generate" Grid.Column="1" HorizontalAlignment="Left" Margin="35,438,0,0" VerticalAlignment="Top" Width="75" RenderTransformOrigin="0.267,0.36" Click="Button_Click_2"/>
        <Button Content="Cancel" Grid.Column="1" HorizontalAlignment="Left" Margin="131,438,0,0" VerticalAlignment="Top" Width="75" RenderTransformOrigin="0.267,0.36" Click="Button_Click_1"/>
        
        
        <Grid Grid.Column="2" HorizontalAlignment="Left" Height="466" Margin="10,10,0,0" VerticalAlignment="Top" Width="500"/>
        <c:PieChartLayout HorizontalAlignment="Center" Grid.Row="0" Grid.Column="0"
                              x:Name="piePlotter" PlottedProperty="Value" Margin="10">
            <c:PieChartLayout.ColorSelector>
                <c:IndexedColourSelector Brushes="{StaticResource brushes}"/>
            </c:PieChartLayout.ColorSelector>
        </c:PieChartLayout>


    </Grid>
</Controls:MetroWindow>
